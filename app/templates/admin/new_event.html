{% extends 'base.html' %}

{% block title %}Add Event{% endblock %}

{% block content %}
  <h2>Add Event</h2>
  <form method="POST">
    {{ form.hidden_tag() }}
    <div class="form-group">
      {{ form.title.label }}<br>
      {{ form.title(class="input") }}
    </div>
    <div class="form-group">
      {{ form.start_date.label }}<br>
      {{ form.start_date(class="input", type="date") }}
    </div>
    <div class="form-group">
      {{ form.end_date.label }}<br>
      {{ form.end_date(class="input", type="date") }}
    </div>
    {{ form.submit(class="btn-primary") }}
  </form>

  <h3>Existing Events</h3>
  <ul>
    {% for ev in events %}
      <li>
        <span style="background-color: {{ ev.color }}; padding: 2px 6px;">
          {{ ev.title }} ({{ ev.start_date }} - {{ ev.end_date }})
        </span>
        <a href="{{ url_for('admin.delete_event', event_id=ev.id) }}" onclick="return confirm('Delete this event?');">Delete</a>
      </li>
    {% else %}
      <li>No events yet.</li>
    {% endfor %}
  </ul>
{% endblock %}
